<!DOCTYPE html>
<html lang="en" dir="ltr" class="ng-scope">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title> جدول کاربران </title>
    <!--bootstrap css-->
    <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.min.css"/>
    <!--main style-->
    <link rel="stylesheet" href="./style.css" />
    <!--font awesome CDN-->
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
      integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"/>
    <!--angular js -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <!--angular-route -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js"></script>
  
  </head>
  <body dir="rtl" ng-app="app" ng-controller="numberc">
    <div class="container py-2">
      <!--add user in modal-->
      <button
        type="button"
        class="btn d-flex flex-row-reverse text-center btn-add"
        style="float: right; background-color: #f9ebc8"
        data-bs-toggle="modal"
        data-bs-target="#exampleModal1"
        data-bs-whatever="@mdo"
        ng-click="addUser()"
        ng-model="addUser">
        <span><i class="fa fa-add"></i></span>
      </button>
      <!--for search on table-->
      <form class="d-flex">
        <input
          class="form-control me-2 text-end"
          ng-model="search"
          type="search"
          placeholder="جست و جو"
          aria-label="Search"/>
      </form>
      <!--end for search on table-->

      <!--modal for add user-->
      <div
        class="modal fade"
        id="exampleModal1"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content text-end">
            <div class="modal-header flex-row-reverse" ng-show="viewedit">
              <h5 class="modal-title flex-grow-1" id="exampleModalLabel"> ویرایش کاربر</h5>

              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"></button>
            </div>

            <div class="modal-header flex-row-reverse" ng-hide="viewedit">
              <h5 class="modal-title flex-grow-1" id="exampleModalLabe1"> کاربر جدید</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"></button>
            </div>

            <div class="modal-body">
              <!--form control-->
              <form class="row g-3 flex-row-reverse text-end" name="frm" id="tr">
                <div class="col-md-12">
                  <label class="form-label">نام
                    <span ng-show="frm.firstName.$invalid" class="invalid">*</span>
                    <span ng-show="frm.firstName.$valid"><i class="fa fa-check" style="color: green;"></i></span>
                  </label>
                  <input
                    type="text"
                    name="firstName"
                    class="form-control text-end"
                    ng-model="firstName"
                    required />
                
                </div>
                <div class="col-md-12">
                  <label for="validationServer02" class="form-label"
                    >نام خانوادگی
                    <span ng-show="frm.lastName.$invalid" class="invalid">*</span>
                    <span ng-show="frm.lastName.$valid"><i class="fa fa-check" style="color: green;"></i></span>
                  </label>
                  <input
                    type="text"
                    name="lastName"
                    class="form-control text-end"
                    id="validationServer02"
                    ng-model="lastName"
                    required/>
                </div>
                <div class="col-md-12">
                  <label for="validationServerUsername" class="form-label"
                    >ایمیل
                    <span ng-show="frm.email.$invalid" class="invalid">*</span>
                    <span ng-show="frm.email.$valid"><i class="fa fa-check" style="color: green;"></i></span>
                  </label>
                  <div class="input-group has-validation">
                    <span class="input-group-text" id="inputGroupPrepend3"
                      ><i class="fa fa-envelope"></i></span>

                    <input
                      type="email"
                      name="email"
                      ng-model="email"
                      class="form-control"
                      pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{1,63}$"
                      id="validationServerUsername"
                      aria-describedby="inputGroupPrepend3 validationServerUsernameFeedback"
                      required/>

                    <div
                      id="validationServerUsernameFeedback"
                      placeholder="info@gmail.com"
                      class="invalid-feedback">
                      ایمیل خود را وارد کنید
                    </div>
                  </div>
                </div>

                <div class="col-md-6">
                  <select
                    class="form-select text-end"
                    aria-label="Default select example"
                    ng-model="jens"
                    name="jens"
                    required >
                    <option selected>جنسیت</option>
                    <option value="خانم">خانم</option>
                    <option value="آقا">آقا</option>
                  </select>
                </div>
                <div class="col-md-6">
                  <div class="input-group mb-3">
                    <span class="input-group-text">Rial</span>
                    <input
                      id="mask"
                      type="text"
                      name="salary"
                      class="form-control"
                      ng-model="salary"
                      aria-label="Amount (to the nearest dollar)"
                      required/>
                  </div>
                </div>
                <div class="col-md-6">
                  <span ng-show="frm.min.$invalid" class="invalid">*</span>
                  <span ng-show="frm.min.$valid"><i class="fa fa-check" style="color: green;"></i></span>
                 
                  <input
                    type="number"
                    name="min"
                    class="form-control"
                    ng-model="minTransaction"
                    ng-minlength="1" ng-maxlength="5"
                    value=""
                    placeholder="حداقل تراکنش:2"
                    required />
                    <span ng-show="frm.min.$dirty&&frm.min.$error.maxlength" style="font-size:12px;color:rgb(136, 12, 12)">کمتر از 5 کاراکتر وارد کنید</span>
                </div>
                <div class="col-md-6 has-validation">
                  <span ng-show="frm.max.$invalid" class="invalid">*</span>
                  <span ng-show="frm.max.$valid"><i class="fa fa-check" style="color: green;"></i></span>
                  <input
                    type="number"
                    class="form-control"
                    id="validationServer01"
                    ng-model="maxTransaction"
                    value=""
                    name="max"
                    placeholder="حداکثر تراکنش:10"
                    required />
                    <!-- <span ng-show="frm.max.$invalid" style="font-size:12px;color:rgb(136, 12, 12)" id="maxexp">!مقداری بیشتر یا برابر حداقل وارد کنید</span> -->

                </div>

                <div class="col-12 text-center" ng-hide="removeadd">
                  <button
                    class="btn btn-outline-success w-100"
                    type="submit"
                    ng-disabled="frm.$invalid"
                    ng-click="addUsers(x)">
                 ثبت
                  </button>
                </div>
              </form>
              <!--End form control-->

              <!--for success alert add user in modal form-->
              <div class="alert alert-success" id="alert-success" role="alert" style="display: none">
               ! با موفقیت ثبت گردید 
              </div>
              <!--end for success alert add user in modal form-->

            </div>
            <!--ng-show-->
            <div class="modal-footer" ng-show="viewedit">
              <button
                type="button"
                class="btn btn-outline-danger"
                data-bs-dismiss="modal">
                انصراف
              </button>
              <button type="button" class="btn btn-outline-success" ng-click="save()">
                بروز رسانی
              </button>
            </div>
            <!--ng-show-->
          </div>
        </div>
      </div>
      <!--End modal for add user-->
    </div>

    <div class="container">
      <!--table list-of-users-->
      <table
        class="table table-hover table-responsive table-shadow"
        style="background-color: #dae5d0">
        <thead style="background-color: #fefbe7 !important">
          <tr>
            <th scope="col" ng-click="sort('Id')">
              #
              <i
                class="fa-solid fa-sort"
                ng-show="sortKey=='Id'"
                ng-class="{ 'fa-chevron-up': reverse , 'fa-chevron-down' : !reverse }"></i>
            </th>
            <th ng-click="sort('firstName')" scope="col">
              نام
              <i
                class="fa-solid fa-sort"
                ng-show="sortKey=='firstName'"
                ng-class="{ 'fa-chevron-up': reverse , 'fa-chevron-down' : !reverse }"></i>
            </th>
            <th ng-click="sort('lastName')" scope="col">
              نام خانوادگی
              <i
                class="fa-solid fa-sort"
                ng-show="sortKey=='lastName'"
                ng-class="{ 'fa-chevron-up': reverse , 'fa-chevron-down' : !reverse }"></i>
            </th>

            <th ng-click="sort('email')" scope="col">
              ایمیل
              <i
                class="fa-solid fa-sort"
                ng-show="sortKey=='email'"
                ng-class="{ 'fa-chevron-up': reverse , 'fa-chevron-down' : !reverse }"></i>
            </th>

            <th ng-click="sort('jens')" scope="col">
              جنسیت
              <i
                class="fa-solid fa-sort"
                ng-show="sortKey=='jens'"
                ng-class="{ 'fa-chevron-up': reverse , 'fa-chevron-down' : !reverse }"></i>
            </th>

            <th ng-click="sort('salary')" scope="col">
              درآمد ماهانه
              <i
                class="fa-solid fa-sort"
                ng-show="sortKey=='salary'"
                ng-class="{ 'fa-chevron-up': reverse , 'fa-chevron-down' : !reverse }"></i>
            </th>
            <th ng-click="sort('minTransaction')" scope="col">
              حداقل تراکنش
              <i
                class="fa-solid fa-sort"
                ng-show="sortKey=='minTransaction'"
                ng-class="{ 'fa-chevron-up': reverse , 'fa-chevron-down' : !reverse }"></i>
            </th>

            <th ng-click="sort('maxTransaction')" scope="col">
              حداکثر تراکنش
              <i
                class="fa-solid fa-sort"
                ng-show="sortKey=='maxTransaction'"
                ng-class="{ 'fa-chevron-up': reverse , 'fa-chevron-down' : !reverse }"></i>
            </th>

            <th scope="col">ویرایش</th>
            <th scope="col">حذف</th>
          </tr>
        </thead>
        <tbody>
          <!-- dir-paginate="value in data | itemsPerPage: 5" -->
          <tr
            dir-paginate="x in users | itemsPerPage:3 |filter: search | orderBy:sortKey:reverse"
            ng-model="addMe"
          >
            <th scope="row">{{x.Id}}</th>
            <td>{{x.firstName}}</td>
            <td>{{x.lastName}}</td>
            <td>{{x.email}}</td>
            <td>{{x.jens}}</td>
            <td>{{x.salary}}</td>
            <!-- | number : fractionSize -->
            <td>{{x.minTransaction}}</td>
            <td>{{x.maxTransaction}}</td>
            <td>
              <button
                type="button"
                data-bs-target="#exampleModal1"
                data-bs-whatever="@mdo"
                class="btn d-flex flex-row-reverse text-center"
                style="background-color: #a0bcc2"
                ng-click="editUsers(x)"
                ng-model="viewedit"
                style="float: right"
                data-bs-toggle="modal"
                data-target="#edit">
                <span><i class="fa fa-edit"></i></span>
              </button>
            </td>
            <td>
              <button
                type="button"
                class="btn d-flex flex-row-reverse text-center"
                style="background-color: #a0bcc2"
                ng-click="removeItem(x.Id)"
                style="float: right"
                data-bs-toggle="modal">
                <span><i class="fa fa-trash"></i></span>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <!--pagination-->
      <dir-pagination-controls
        class="paginate"
        max-size="3"
        direction-links="true">
      </dir-pagination-controls>
      <!--end pagination-->

      <!--End table list-of-users-->
    </div>
    <!--main-script-->
    <script src="./app.js"></script>
    <!--bootstrap-->
    <script src="./node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <!--jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!--for input mask-->
    <script src=
    "https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.js"
                integrity=
    "sha256-yE5LLp5HSQ/z+hJeCqkz9hdjNkk1jaiGG0tDCraumnA="
                crossorigin="anonymous">
        </script>    
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <!--pagination js-->
    <script src="./pagination.js"></script>
 
  </body>
</html>
